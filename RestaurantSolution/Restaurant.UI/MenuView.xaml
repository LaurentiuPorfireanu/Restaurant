<UserControl x:Class="Restaurant.UI.Views.MenuView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:Restaurant.ViewModels"
             Height="Auto" Width="Auto">
    <!--  Setăm DataContext din XAML, presupunând că folosești un container DI care poate rezolva MenuViewModel  -->
    <UserControl.DataContext>
        <vm:MenuViewModel />
    </UserControl.DataContext>

    <DockPanel>

        <!-- 1. Top: Logo-ul restaurantului  -->
        <Border DockPanel.Dock="Top" Height="100" Background="White" Padding="10">
            <Image Source="{Binding LogoPath}"
                   Stretch="Uniform"
                   VerticalAlignment="Center"/>
        </Border>

        <!-- 2. Right: Panou de filtre  -->
        <StackPanel DockPanel.Dock="Right"
                    Width="220"
                    Margin="10">
            <TextBlock Text="Filtre" FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

            <!-- Filtru după categorie -->
            <TextBlock Text="Categorie" Margin="0,5"/>
            <ComboBox ItemsSource="{Binding Categories}"
                      SelectedItem="{Binding SelectedCategory}"
                      DisplayMemberPath="Name"/>

            <!-- Aici poți adăuga alte filtre (alergeni, preț, etc.) -->
            <!-- ex: ListBox cu checkboxes pentru alergeni -->
        </StackPanel>

        <!-- 3. Conținut: lista de preparate, scrollabilă și cu layout de card-uri  -->
        <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled">
            <ItemsControl ItemsSource="{Binding MenuItems}">
                <!-- Layout orizontal cu wrap -->
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Horizontal"
                                   ItemWidth="200"
                                   ItemHeight="250"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <!-- Template pentru fiecare preparat  -->
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="LightGray"
                                BorderThickness="1"
                                CornerRadius="4"
                                Margin="8"
                                Padding="6">
                            <StackPanel>
                                <Image Source="{Binding ImageUrl}"
                                       Height="120"
                                       Stretch="UniformToFill"/>
                                <TextBlock Text="{Binding Name}"
                                           FontWeight="Bold"
                                           Margin="0,6,0,0"/>
                                <TextBlock Text="{Binding Price, StringFormat={}{0:C}}"
                                           Margin="0,2"/>
                                <TextBlock Text="{Binding AllergensDisplay}"
                                           FontStyle="Italic"
                                           FontSize="11"
                                           TextWrapping="Wrap"
                                           Margin="0,4,0,0"/>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

    </DockPanel>
</UserControl>
